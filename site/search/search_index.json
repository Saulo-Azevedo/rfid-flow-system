{"config":{"lang":["pt"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"RFID Flow \u2014 Documenta\u00e7\u00e3o","text":"<p>Este reposit\u00f3rio cont\u00e9m o sistema RFID Flow, uma aplica\u00e7\u00e3o web para controle e rastreabilidade de botij\u00f5es/cilindros utilizando RFID UHF e c\u00f3digo de barras.</p>"},{"location":"#o-que-este-sistema-faz","title":"O que este sistema faz","text":"<ul> <li>Recebe leituras de RFID e/ou barcode (em fluxos separados)</li> <li>Registra hist\u00f3rico de leituras</li> <li>Exibe dashboard operacional e relat\u00f3rios</li> <li>Permite importa\u00e7\u00e3o via planilha (XLS/XLSX)</li> <li>Envia relat\u00f3rios por e-mail (quando configurado)</li> </ul>"},{"location":"#links-uteis-rotas","title":"Links \u00fateis (rotas)","text":"<ul> <li>Dashboard: <code>/</code></li> <li>Login: <code>/login/</code></li> <li>Admin: <code>/admin/</code></li> <li>Recupera\u00e7\u00e3o de senha: <code>/password-reset/</code></li> <li>API RFID (registro): <code>/api/registrar-leitura/</code></li> <li>API Barcode:</li> <li>P\u00e1gina: <code>/api/barcode/leitura/</code></li> <li>Registrar: <code>/api/barcode/registrar/</code></li> <li>Dashboard: <code>/api/barcode/dashboard/</code></li> </ul> <p>Nota de produto: RFID e barcode podem existir de forma independente (tag perdida, etiqueta danificada, etc.). O v\u00ednculo entre eles pode ser implementado conforme o processo do cliente.</p>"},{"location":"admin_manual/","title":"Manual do Administrador","text":""},{"location":"admin_manual/#usuarios","title":"Usu\u00e1rios","text":"<ul> <li>Criar usu\u00e1rios e definir permiss\u00f5es via <code>/admin/</code></li> <li>Recomenda-se manter pelo menos 1 usu\u00e1rio administrador</li> </ul>"},{"location":"admin_manual/#cadastros","title":"Cadastros","text":"<ul> <li>O sistema pode criar registros automaticamente quando uma leitura chega sem cadastro.</li> <li>Cadastros e regras espec\u00edficas podem ser ajustados conforme o processo do cliente.</li> </ul>"},{"location":"admin_manual/#importacao-por-planilha","title":"Importa\u00e7\u00e3o por planilha","text":"<ul> <li>A funcionalidade de importa\u00e7\u00e3o fica em <code>/upload-xls/</code></li> <li>O fluxo t\u00edpico \u00e9:</li> <li>Upload</li> <li>Pr\u00e9-visualiza\u00e7\u00e3o</li> <li>Confirma\u00e7\u00e3o</li> </ul>"},{"location":"admin_manual/#auditoria","title":"Auditoria","text":"<ul> <li>Registros de auditoria s\u00e3o mantidos no modelo <code>LogAuditoria</code>.</li> </ul>"},{"location":"api/","title":"API (Integra\u00e7\u00f5es)","text":""},{"location":"api/#visao-geral","title":"Vis\u00e3o geral","text":"<p>A aplica\u00e7\u00e3o exp\u00f5e endpoints para registrar leituras e obter dados do dashboard.</p>"},{"location":"api/#registro-de-leitura-rfid","title":"Registro de leitura RFID","text":"<ul> <li>Endpoint: <code>POST /api/registrar-leitura/</code></li> <li>Objetivo: registrar uma leitura RFID.</li> </ul> <p>Observa\u00e7\u00e3o: o payload exato deve refletir o formato enviado pelo coletor. Documente aqui com exemplos reais do cliente.</p>"},{"location":"api/#barcode","title":"Barcode","text":"<ul> <li>P\u00e1gina de leitura: <code>GET /api/barcode/leitura/</code></li> <li>Registrar: <code>POST /api/barcode/registrar/</code></li> <li>Dados para dashboard: <code>GET /api/barcode/dashboard/</code></li> </ul>"},{"location":"api/#recomendacao-padrao-de-mercado","title":"Recomenda\u00e7\u00e3o (padr\u00e3o de mercado)","text":"<ul> <li>Adicionar Swagger/OpenAPI para refer\u00eancia automatizada.</li> <li>Versionar endpoints (ex: <code>/api/v1/...</code>).</li> </ul>"},{"location":"architecture/","title":"Arquitetura","text":""},{"location":"architecture/#visao-de-alto-nivel","title":"Vis\u00e3o de alto n\u00edvel","text":"<pre><code>flowchart LR\n  R[Coletor RFID] --&gt;|HTTP/JSON| B[Django]\n  C[Coletor Barcode] --&gt;|HTTP/JSON| B\n  U[Usu\u00e1rio] --&gt;|Browser| F[Dashboard Web]\n  F --&gt; B\n  B --&gt; D[(PostgreSQL)]\n</code></pre>"},{"location":"architecture/#componentes-do-projeto","title":"Componentes do projeto","text":"<ul> <li>Django Project: <code>app/</code> (settings, urls, wsgi)</li> <li>Django App: <code>rfid/</code> (models, views, templates, utils)</li> <li>Banco: PostgreSQL em produ\u00e7\u00e3o (Railway) e SQLite em desenvolvimento (fallback)</li> <li>Static: WhiteNoise para servir arquivos est\u00e1ticos</li> </ul>"},{"location":"architecture/#principais-entidades-resumo","title":"Principais entidades (resumo)","text":"<ul> <li>Botijao: cadastro do cilindro (atual: identificado por <code>tag_rfid</code>)</li> <li>LeituraRFID: eventos de leitura RFID ligados ao Botijao</li> <li>LeituraCodigoBarra: eventos de leitura de barcode (atual: n\u00e3o vinculado ao Botijao)</li> <li>LogAuditoria: trilha de auditoria para a\u00e7\u00f5es relevantes</li> <li>ImportacaoXLS: registro de importa\u00e7\u00f5es de planilhas</li> </ul>"},{"location":"architecture/#pontos-de-atencao-boas-praticas","title":"Pontos de aten\u00e7\u00e3o (boas pr\u00e1ticas)","text":"<ul> <li>Configurar <code>ALLOWED_HOSTS</code> e <code>CSRF_TRUSTED_ORIGINS</code> via vari\u00e1veis de ambiente</li> <li>Evitar <code>print()</code> em produ\u00e7\u00e3o (substituir por logging)</li> <li>Manter endpoints de integra\u00e7\u00e3o versionados quando poss\u00edvel (ex: <code>/api/v1/...</code>)</li> </ul>"},{"location":"data_model/","title":"Modelo de Dados","text":""},{"location":"data_model/#entidades-principais","title":"Entidades principais","text":"<ul> <li>Botijao (<code>rfid.models.Botijao</code>)</li> <li>LeituraRFID (<code>rfid.models.LeituraRFID</code>)</li> <li>LeituraCodigoBarra (<code>rfid.models.LeituraCodigoBarra</code>)</li> <li>LogAuditoria (<code>rfid.models.LogAuditoria</code>)</li> <li>ImportacaoXLS (<code>rfid.models.ImportacaoXLS</code>)</li> </ul>"},{"location":"data_model/#sugestao-para-vinculo-rfid-barcode","title":"Sugest\u00e3o para v\u00ednculo RFID \u2194 Barcode","text":"<p>Hoje <code>Botijao</code> \u00e9 identificado por <code>tag_rfid</code> (\u00fanico). Se o processo do cliente exigir v\u00ednculo, as op\u00e7\u00f5es comuns s\u00e3o: 1. Adicionar campo <code>codigo_barra</code> em <code>Botijao</code> (\u00fanico, opcional) 2. Criar tabela de rela\u00e7\u00e3o <code>Identificador</code> (tipo: RFID/BARCODE, valor, ativo) e vincular ao Botijao</p>"},{"location":"data_model/#gerando-diagrama-opcional","title":"Gerando diagrama (opcional)","text":"<p>Se voc\u00ea instalar <code>django-extensions</code> + Graphviz:</p> <pre><code>python manage.py graph_models -a -g -o docs/images/models.png\n</code></pre> <p>E ent\u00e3o inclua no final:</p> <p></p>"},{"location":"deployment/","title":"Deploy (Produ\u00e7\u00e3o)","text":"<p>Este projeto est\u00e1 preparado para deploy em Railway (ver <code>railway.json</code>).</p>"},{"location":"deployment/#variaveis-de-ambiente","title":"Vari\u00e1veis de ambiente","text":"<p>Recomendado configurar no provedor (Railway): - <code>SECRET_KEY</code> (obrigat\u00f3rio) - <code>DEBUG=0</code> (obrigat\u00f3rio) - <code>DATABASE_URL</code> (PostgreSQL) - <code>ALLOWED_HOSTS</code> (lista separada por v\u00edrgula) - <code>CSRF_TRUSTED_ORIGINS</code> (lista separada por v\u00edrgula)</p> <p>Opcional (e-mail): - <code>EMAIL_BACKEND</code> - <code>EMAIL_HOST</code> - <code>EMAIL_PORT</code> - <code>EMAIL_USE_TLS</code> - <code>EMAIL_HOST_USER</code> - <code>EMAIL_HOST_PASSWORD</code> - <code>DEFAULT_FROM_EMAIL</code></p>"},{"location":"deployment/#comando-de-start-railway","title":"Comando de start (Railway)","text":"<p>Atualmente em <code>railway.json</code>:</p> <pre><code>python manage.py migrate &amp;&amp; python manage.py collectstatic --noinput &amp;&amp; gunicorn app.wsgi\n</code></pre>"},{"location":"deployment/#checklist-de-producao","title":"Checklist de produ\u00e7\u00e3o","text":"<ul> <li><code>DEBUG=0</code></li> <li><code>SECRET_KEY</code> via env</li> <li><code>ALLOWED_HOSTS</code> restrito (evitar <code>*</code>)</li> <li><code>CSRF_TRUSTED_ORIGINS</code> alinhado ao dom\u00ednio real</li> <li>Backup do banco definido (frequ\u00eancia e reten\u00e7\u00e3o)</li> </ul>"},{"location":"deployment/#backup-do-banco-exemplo","title":"Backup do banco (exemplo)","text":"<p>Em PostgreSQL:</p> <pre><code>pg_dump \"$DATABASE_URL\" &gt; backup_YYYYMMDD.sql\n</code></pre>"},{"location":"operations_manual/","title":"Manual do Operador","text":""},{"location":"operations_manual/#objetivo","title":"Objetivo","text":"<p>Registrar e consultar leituras de botij\u00f5es via RFID e/ou c\u00f3digo de barras.</p>"},{"location":"operations_manual/#acesso","title":"Acesso","text":"<ol> <li>Acesse a URL do sistema</li> <li>Fa\u00e7a login</li> <li>Utilize o dashboard (p\u00e1gina inicial)</li> </ol>"},{"location":"operations_manual/#fluxo-operacional-leitura","title":"Fluxo operacional (leitura)","text":"<ul> <li>RFID: quando uma tag \u00e9 lida, o sistema registra um evento e atualiza o hist\u00f3rico.</li> <li>Barcode: quando um c\u00f3digo \u00e9 lido, o sistema registra um evento e atualiza o hist\u00f3rico.</li> </ul>"},{"location":"operations_manual/#cenarios-comuns","title":"Cen\u00e1rios comuns","text":"<ul> <li>Botij\u00e3o sem tag (apenas barcode): registrar via barcode normalmente.</li> <li>Botij\u00e3o sem barcode (apenas tag): registrar via RFID normalmente.</li> </ul>"},{"location":"operations_manual/#relatorios","title":"Relat\u00f3rios","text":"<ul> <li>Tela de relat\u00f3rios permite filtros e exporta\u00e7\u00e3o.</li> <li>Exporta\u00e7\u00e3o para Excel e envio por e-mail dependem das permiss\u00f5es e configura\u00e7\u00e3o.</li> </ul>"},{"location":"operations_manual/#boas-praticas-de-operacao","title":"Boas pr\u00e1ticas de opera\u00e7\u00e3o","text":"<ul> <li>Garantir que o dispositivo esteja com data/hora corretas</li> <li>Conferir conectividade (Wi-Fi/4G) quando a integra\u00e7\u00e3o \u00e9 online</li> <li>Em falha recorrente, reportar com hor\u00e1rio aproximado e identifica\u00e7\u00e3o do dispositivo</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#1-nao-consigo-acessar-erro-500","title":"1) N\u00e3o consigo acessar (erro 500)","text":"<ul> <li>Verifique se <code>DATABASE_URL</code> est\u00e1 correto</li> <li>Rode migra\u00e7\u00f5es: <code>python manage.py migrate</code></li> <li>Verifique logs do servidor (Railway logs)</li> </ul>"},{"location":"troubleshooting/#2-erro-403-csrf","title":"2) Erro 403 (CSRF)","text":"<ul> <li>Ajuste <code>CSRF_TRUSTED_ORIGINS</code> para incluir seu dom\u00ednio de produ\u00e7\u00e3o</li> </ul>"},{"location":"troubleshooting/#3-leituras-nao-aparecem","title":"3) Leituras n\u00e3o aparecem","text":"<ul> <li>Confirmar se o dispositivo est\u00e1 enviando para o endpoint correto</li> <li>Conferir payload e status HTTP</li> <li>Conferir conex\u00e3o com banco</li> </ul>"},{"location":"troubleshooting/#4-arquivos-estaticos-sem-css-producao","title":"4) Arquivos est\u00e1ticos sem CSS (produ\u00e7\u00e3o)","text":"<ul> <li>Rodar <code>python manage.py collectstatic --noinput</code></li> <li>Confirmar WhiteNoise no <code>MIDDLEWARE</code></li> </ul>"}]}